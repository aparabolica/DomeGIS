<header id="inner-header" class="form-header">
  <div class="container">
    <div class="six columns offset-by-three">
      <h2 ng-show="analysis.id">Editing analysis {{analysis.title}}</h2>
      <h2 ng-hide="analysis.id">New analysis</h2>
    </div>
  </div>
</header>
<div class="container">
  <div class="six columns offset-by-three">
    <form id="edit_analysis" class="main-form" ng-submit="save(analysis)">
      <div class="form-section">
        <p>
          <label for="name_input">Title</label>
          <input id="name_input" type="text" placeholder="Title" ng-model="analysis.title" />
        </p>
        <p>
          <label for="description_input">Description</label>
          <textarea id="description_input" placeholder="Description" ng-model="analysis.description" />
        </p>
        <p>
          <label for="query_input">Query</label>
          <textarea id="query_input" ng-model="analysis.query" ui-ace="aceOptions"></textarea>
        </p>
        <p>
          <label for="data_template_input">Data template</label>
          <span class="tip">
            Use <a href="http://mustache.github.io/#demo" target="_blank" rel="external">mustache</a> to display data
            <span class="available-properties" ng-show="properties.length">
              Available properties:
              <span class="property" ng-repeat="property in properties" ng-click="addProperty(property)">{{property}}</span>
            </span>
          </span>
          <textarea id="data_template_input" ng-model="analysis.dataTemplate" rows="8"></textarea>
        </p>
        <div class="examples">
          <p>Examples:</p>
          <pre ng-repeat="example in examples"><code>{{example}}</code></pre>
        </div>
      </div>
      <p>
        <input type="submit" value="Save analysis" />
      </p>
    </form>
  </div>
</div>
