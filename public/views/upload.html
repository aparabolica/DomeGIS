<header id="inner-header" class="form-header">
  <div class="container">
    <div class="six columns offset-by-three">
      <h2>Upload</h2>
      <p>Create layers from shapefile, kml or raster data.</p>
    </div>
  </div>
</header>
<div id="upload">
  <div class="container row">
    <div class="six columns offset-by-three">
      <form class="main-form">
        <div class="dropbox" ngf-drop="uploadFiles($files)" ngf-select="uploadFiles($files)" ngf-multiple="true" ngf-drag-over-class="'dragover'" ng-model="files" ng-disabled="getProgress()">
          <span class="fa fa-upload"></span>
          Drag files here or click to select
          <span class="progress-bar" ng-show="getProgress()" ng-style="{'width': getProgress() + '%' }">
            <span class="progress-label" ng-show="getProgress()"> {{getProgress()}}%</span>
          </span>
        </div>
        <p class="tip">Supported formats: <span class="format">.zip (shapefile)</span> <span class="format">.tiff</span> <span class="format">.kml</span>
      </form>
    </div>
  </div>
  <div class="container row">
    <div class="eight columns offset-by-two">
      <table ng-show="uploaded.length">
        <thead>
          <tr>
            <th>File name</th>
            <th>Type</th>
            <th>Status</th>
            <th>Actions</th>
        </thead>
        <tbody>
          <tr ng-repeat="file in uploaded">
            <td>{{file.layer.name}}</td>
            <td>{{file.layer.type}}</td>
            <td>{{file.layer.sync.status}}</td>
            <td>
              <a ng-show="file.layer.sync.status == 'imported'" ui-sref="editLayer({id: file.layer.id})">Edit</a>
              <a ng-show="file.layer.sync.status == 'imported'" ui-sref="editView({layerId: file.layer.id})">New view</a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
